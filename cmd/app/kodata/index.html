<!DOCTYPE html>
<html>
<head>
<title>Kontain.me</title>
<style>
body { font-family: Arial; line-height: 1.5; }
code { background-color: lightgrey; padding: 3px;}
a { color: blue; }
</style>
</head>
<body>
<p><b>kontain.me</b> serves Docker container images generated on-demand at the
time they are requested.</p>

<h1><code>random.kontain.me</code></h1>

<p><code>docker pull random.kontain.me/random:latest</code> serves an image containing
random data. By default the image contains one layer containing 10 MB of random
bytes.  You can request a specific size and shape of random image. For example,
<code>kontain.me/random:4x100</code> generates a random image of 4 layers of
100 random bytes each.

<h1><code>ko.kontain.me</code></h1>

<p><code>docker pull ko.kontain.me/ko/[import path]</code> serves an image
containing a Go binary fetched using <code>go get</code> and built into a
container image using <a
	href="https://github.com/google/ko"><code>ko</code></a>.</p>

<p>For example,
<code>docker pull ko.kontain.me/ko/github.com/google/ko/cmd/ko</code> will fetch,
build and (eventually) serve a Docker image containing <code>ko</code> itself.
<i>Koception!</i></p>

<p><b>NB:</b> All Docker image references must be lowercase.</p>

<h1><code>buildpack.kontain.me</code></h1>

<p><code>docker pull buildpack.kontain.me/[ghuser]/[ghrepo]/[path/to/app]:[revision]</code>
serves an image fetched from source on GitHub and built using <a
 href="https://buildpacks.io">CNCF Buildpacks</a>. Specifically, it uses the <a
 href="https://github.com/GoogleCloudPlatform/buildpacks">GCP buildpack
 builder</a></p>

<p>For example, <code>docker pull
	buildpack.kontain.me/googlecloudplatform/buildpack-samples/sample-go:master</code>
 fetches, builds and serves a <a
 href="https://github.com/GoogleCloudPlatform/buildpack-samples/tree/master/sample-go">sample
 Go app</a>.</p>

<p><b>NB:</b> All Docker image references must be lowercase.</p>

<p>The image tag can be a commit, branch or tag. The default,
<code>:latest</code>, pulls the master branch.</p>

<h1><code>mirror.kontain.me</code></h1>

<p><code>docker pull mirror.kontain.me/[image]</code> will pull the an image
(if it can) and cache the manifest and layers. Subsequent pulls will, if
possible, serve from the cache.</p>

<p>This acts as a simple <a
	href="https://docs.docker.com/registry/recipes/mirror/">registry
	mirror</a> which can reduce the number of pulls from the original
registry, in case they impose request limits or exorbitant bandwidth costs or
latencies.</p>

<h1>Caveats</h1>

<p>The registry does not accept pushes of any kind. This is a silly hack and if
it's at all reliable it's by accident. Don't rely on it for anything serious.
It could probably do a lot of smart things to be a lot faster.</p>

<p>Source is available on
<a href="https://github.com/imjasonh/kontain.me">GitHub</a>.</p>
</body>
</html>
